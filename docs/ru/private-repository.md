# Приватный репозиторий

## Как создать свой приватный репозиторий в RS School?

В начале обучения на курсе вам необходимо:

- открыть `Dashboard` в [RS App](https://app.rs.school)
- нажать "Create repository" (или "Fix repository" если настройки репозитория необходимо вернуть в первоначальное положение)
- GitHub автоматически присылает вам инвайт для доступа в репозиторий. Инвайт приходит на почту указанную вами при регистрации на GitHub (а не на почту указанную вами в RS App)

## Как работать с приватным репозиторием?

- Склонировать его себе:
  `git clone https://github.com/rolling-scopes-school/<your-school-repository>.git`
- Перейдите в папку склонированного репозитория:
  `cd <your-school-repository>`
- Укажите в конфиге ваши данные (email впишите привязанный [к аккаунту GitHub](https://github.com/settings/emails)):
  `git config user.name "Name Surname"`
  `git config user.email "your@email"`
- Из ветки `main` создать ветку по имени задания:
  `git checkout -b <task-name>`
- Создать папку по имени задания:
  `mkdir <task-name>`
  Все относящиеся к заданию файлы должны быть в ней.
- Выполнить задание, в процессе коммитая решения (см. [требования к коммитам](https://docs.rs.school/#/git-convention)).
- Залить ветку в remote branch на GitHub:
  `git push origin <task-name>`
- Создать Pull Request из ветки `<task-name>` в ветку `main`. Мержить Pull Request не нужно.

## Как сделать деплой задания из приватного репозитория школы?

1. В ветке `gh-pages` необходимо разместить папку с именем задания, а в ней файлы проекта. Файл `index.html` должен находиться на верхнем уровне. Сделать это можно двумя способами:
   - для проектов, в которых не используется `webpack`, достаточно сделать Pull Request из ветки разработки в ветку `gh-pages` и замержить его.
   - для проектов, в которых используется `webpack`, необходимо создать сборку проекта, выполнив команду `npm run build`, в ветке `gh-pages` создать папку с именем задания, в созданную папку поместить собранные файлы проекта. Обратите внимание, что в файле `.gitignore` прописаны имена папок, которые создаются при сборке приложения. Поэтому в ветке `gh-pages` файл `.gitignore` можно удалить.
2. Ссылка на задеплоенную версию приложения имеет вид: `https://rolling-scopes-school.github.io/repository-name/folder-name`, где
   - `repository-name` - имя вашего репозитория в rs school
   - `folder-name` - имя папки с файлами проекта
3. Таким образом деплоятся и все остальные проекты, для каждого из них создаётся отдельная папка
   - так [выглядит](https://docs.rs.school/images/deploy-to-gh-pages.png) ветка `gh-pages` с папками проектов
   - пример ссылки: `https://rolling-scopes-school.github.io/irinainina-JS2020Q3/repair-design-project/`

#### Видео&nbsp;[Deploy to GitHub Pages](https://www.youtube.com/watch?v=0lvKcqP3aP0)

## FAQ

### Я удалил ветку gh-pages, что делать?

1. Cоздайте заново ветку `gh-pages` от `main` и запушьте ее в свой школьный приватный репозиторий
2. В `Dashboard` RS App нажмите кнопку `Fix repository`
3. Сделайте любой коммит в ветку `gh-pages` и запушьте изменения. (Каждый пуш в `gh-pages` запускает механизм деплоя этой ветки)
4. Подождите 5 минут

### Я не могу открыть/замержить Pull Request из ветки разработки в ветку gh-pages, что делать?

1. Удалите ветку `gh-pages` на гитхабе
2. В `Dashboard` RS App нажмите кнопку `Fix repository`
3. Замержите Pull Request в ветку `gh-pages`

### У меня не деплоится мой сайт и не появлятся раздел Deployments, что делать?

- Зайдите в настройки (settings) приватного репозитория и проверьте/выставите нужную ветку для деплоя: `gh-pages/root`
- Если нет раздела настройки (settings), в `Dashboard` RS App нажмите кнопку `Fix repository`, настройки должны появится.

![private-repo-settings-info](./images/private-repo-pages-settings.png)

## Добавление списка выполненых заданий и контактов в приватный репозиторий

В созданном приватном репозитории уже есть файл `readme.md` c названием репозитория.
В этот файл можно добавить свои контакты (или ссылку на CV с контактами) и вести в нем список выполненых заданий. Это поможет проверяющим найти работу в случае ошибки при сабмите.

После создания ветки `gh-pages` от `main` этот файл скопируется и туда и будет доступен по адресу
`https://rolling-scopes-school.github.io/<название-репозитория>/`
